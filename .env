# =============================================================================
# N8N + PostgreSQL + Cloudflare Tunnel 환경 설정 (Windows)
# =============================================================================

# -----------------------------------------------------------------------------
# 도메인 설정 (⚠️ 필수 변경)
# -----------------------------------------------------------------------------
N8N_DOMAIN=n8n.demodev.io
N8N_PORT=5678

# -----------------------------------------------------------------------------
# PostgreSQL 데이터베이스 설정 (⚠️ 필수 변경)
# -----------------------------------------------------------------------------
POSTGRES_DB=n8n
POSTGRES_USER=n8n
POSTGRES_PASSWORD=demodevn8nn8n
POSTGRES_SCHEMA=public

# -----------------------------------------------------------------------------
# N8N 보안 설정 (⚠️ 필수 변경)
# -----------------------------------------------------------------------------
N8N_ENCRYPTION_KEY=demodevn8nn8n

# -----------------------------------------------------------------------------
# N8N 인증 설정
# -----------------------------------------------------------------------------
# 기본 인증 활성화 여부 (true/false)
N8N_BASIC_AUTH_ACTIVE=false
# 사용자 관리 비활성화 여부 (true/false)
N8N_USER_MANAGEMENT_DISABLED=true

# -----------------------------------------------------------------------------
# N8N 성능 및 로깅 설정
# -----------------------------------------------------------------------------
# 메트릭 수집 활성화
N8N_METRICS=true
# 로그 레벨 (error, warn, info, verbose, debug, silly)
N8N_LOG_LEVEL=info
# 로그 출력 형식 (console, file)
N8N_LOG_OUTPUT=console

# -----------------------------------------------------------------------------
# N8N 워크플로우 실행 설정
# -----------------------------------------------------------------------------
# 워크플로우 실행 타임아웃 (초)
EXECUTIONS_TIMEOUT=3600
# 최대 실행 타임아웃 (초)
EXECUTIONS_TIMEOUT_MAX=3600
# 바이너리 데이터 모드 (default, filesystem)
N8N_DEFAULT_BINARY_DATA_MODE=default

# -----------------------------------------------------------------------------
# N8N 추가 보안 설정
# -----------------------------------------------------------------------------
# HTTPS 쿠키 보안 설정
N8N_SECURE_COOKIE=true
# 프로덕션 메인 프로세스 비활성화
N8N_DISABLE_PRODUCTION_MAIN_PROCESS=false

# -----------------------------------------------------------------------------
# Cloudflare Tunnel 설정 (⚠️ 필수 변경)
# -----------------------------------------------------------------------------
# 터널 이름 (cloudflared tunnel create 시 생성한 이름)
TUNNEL_NAME=n8n-server
# 터널 로그 레벨 (debug, info, warn, error, fatal)
TUNNEL_LOG_LEVEL=info

# -----------------------------------------------------------------------------
# 타임존 설정 (Windows)
# -----------------------------------------------------------------------------
TZ=Asia/Seoul

# =============================================================================
# Windows 환경에서 설정 완료 후 확인사항:
# 1. N8N_DOMAIN을 실제 도메인으로 변경
# 2. POSTGRES_PASSWORD를 강력한 비밀번호로 변경
# 3. N8N_ENCRYPTION_KEY를 안전한 32자리 키로 변경
# 4. TUNNEL_NAME을 실제 생성한 터널 이름으로 변경
# 
# Windows PowerShell에서 랜덤 키 생성:
# [System.Web.Security.Membership]::GeneratePassword(32, 0)
# =============================================================================

# 🚀 Playwright API 설정 (새로 추가)
PLAYWRIGHT_API_ENABLED=true
PLAYWRIGHT_API_PORT=3001
PLAYWRIGHT_MAX_BROWSERS=3

# 선택사항: API 보안 토큰 (프로덕션 권장)
# PLAYWRIGHT_API_TOKEN=your-secret-token-here

# 선택사항: Playwright 로그 레벨
PLAYWRIGHT_LOG_LEVEL=info